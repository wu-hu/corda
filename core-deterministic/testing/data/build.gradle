apply plugin: 'kotlin'

configurations {
    testData
}

dependencies {
    testCompile project(':core')
    testCompile project(':finance')
    testCompile project(':node-driver')
    testCompile project(':core-deterministic:testing:common')

    testCompile "org.jetbrains.kotlin:kotlin-stdlib-jdk8"
    testCompile "org.jetbrains.kotlin:kotlin-reflect"
    testCompile "junit:junit:$junit_version"
}

jar.enabled = false

test {
    filter {
        // Running this class is the whole point, so include it explicitly.
        includeTestsMatching "net.corda.deterministic.txverify.GenerateTransactionData"
    }
}

artifacts {
    testData file: file("$buildDir/txverify-data.jar"), type: 'jar', builtBy: test
}
